# ==================== STELLAR CUSTODY MVP - QUICK CURL TESTS ====================
# ðŸ§ª Copy & paste these commands for immediate testing

# ==================== HEALTH CHECK ====================
curl -s http://localhost:3001/health | jq

# ==================== AUTHENTICATION ====================
# Login (expect 400/500 - no users in DB yet, but shows API structure)
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"ceo@stellarcustody.com","password":"password123"}'

# ==================== GUARDIAN ENDPOINTS ====================
# Check minimum guardians (expect 401 - requires auth)
curl -X GET http://localhost:3001/api/guardians/check/minimum \
  -H "Authorization: Bearer <TOKEN>"

# Get active guardians (expect 401 - requires auth)  
curl -X GET http://localhost:3001/api/guardians \
  -H "Authorization: Bearer <TOKEN>"

# Guardian statistics (expect 401 - requires auth)
curl -X GET http://localhost:3001/api/guardians/stats/overview \
  -H "Authorization: Bearer <TOKEN>"

# ==================== WALLET ENDPOINTS ====================
# Hot wallet info (expect 401 - requires auth)
curl -X GET http://localhost:3001/api/wallets/hot \
  -H "Authorization: Bearer <TOKEN>"

# Cold wallet info (expect 401 - requires auth)
curl -X GET http://localhost:3001/api/wallets/cold \
  -H "Authorization: Bearer <TOKEN>"

# Balance overview (expect 401 - requires auth)
curl -X GET http://localhost:3001/api/wallets/balances \
  -H "Authorization: Bearer <TOKEN>"

# ==================== TRANSACTION ENDPOINTS ====================
# List transactions (expect 401 - requires auth)
curl -X GET http://localhost:3001/api/transactions \
  -H "Authorization: Bearer <TOKEN>"

# Transaction privacy report (NEW - ephemeral keys)
curl -X GET http://localhost:3001/api/transactions/privacy/report \
  -H "Authorization: Bearer <TOKEN>"

# Create transaction (expect 401 - requires auth)
curl -X POST http://localhost:3001/api/transactions \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "fromWalletId": "wallet123",
    "toAddress": "GABCD1234567890EFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEF",
    "amount": "1000.0000000",
    "memo": "Test transaction",
    "txType": "PAYMENT"
  }'

# ==================== PRIVACY & EPHEMERAL KEYS ====================
# Ephemeral key statistics (NEW)
curl -X GET http://localhost:3001/api/privacy/ephemeral-keys/stats \
  -H "Authorization: Bearer <TOKEN>"

# Privacy report for user (NEW)
curl -X GET http://localhost:3001/api/privacy/transactions/report \
  -H "Authorization: Bearer <TOKEN>"

# Ephemeral key details (NEW)
curl -X GET http://localhost:3001/api/privacy/ephemeral-keys/<TRANSACTION_ID> \
  -H "Authorization: Bearer <TOKEN>"

# ==================== SYSTEM MONITORING ====================
# Detailed health check (NEW)
curl -X GET http://localhost:3001/api/monitoring/health/detailed \
  -H "Authorization: Bearer <TOKEN>"

# Performance metrics (NEW)
curl -X GET http://localhost:3001/api/monitoring/performance \
  -H "Authorization: Bearer <TOKEN>"

# Security events (NEW)
curl -X GET http://localhost:3001/api/monitoring/security/events \
  -H "Authorization: Bearer <TOKEN>"

# ==================== SWAGGER API DOCUMENTATION ====================
# Open in browser: http://localhost:3001/api

# ==================== EXPECTED RESPONSES ====================
# 200: Success with data
# 401: {"message":"Unauthorized","statusCode":401} - Normal, needs auth
# 400: Invalid request data
# 500: Server error

# ==================== TESTING NOTES ====================
# 1. All protected endpoints return 401 (expected - need real auth)
# 2. Health check should return 200 OK
# 3. Swagger docs should load at /api
# 4. Database schema is ready for guardian registration
# 5. WhatsApp assets are loaded and ready for notifications

# ==================== REAL ADDRESSES FOR TESTING ====================
# CEO Guardian:     GAK2TU742A57ERQWNAZ5YEJJAUJUBUNWX2C6BYLIF2ZRVRYFR43ATJDT
# CFO Guardian:     GAODJIFVVHOGTISA2JYI4HQLIDAXSAJZI7DKXQBSMOKCYTRUCAXTTJW2  
# CTO Guardian:     GD2YNO7FGCSRO5JCMGJZEH5LNC664DYHMKIBJZPMV3ZXAPEXTBGH6OLK
# Hot Wallet:       GCMFYTMZJPDS2ECNYBU5XZ4KE5GHMPX7LYOWQII4TC4XRBO5WSAJDPFM
# Cold Wallet:      GCVPYOTR4K2KYNXFC4OFRE2ZVC3CZIRUEIIXUJ7FDNZECZ4VYAVZURKI
# Smart Contract:   CCVEIQKVF6C3G52OJ7TLVIPMJXDZ3ABPLLXQAQVDX2BEZHWUPLFWUYSX

# ==================== DOCKER COMMANDS ====================
# Start:   ./docker-run.sh up
# Stop:    ./docker-run.sh down  
# Logs:    ./docker-run.sh logs
# Status:  ./docker-run.sh status
